<template>
  <div class="min-h-screen flex items-center justify-center bg-yellow-600 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full">
      <div class="">
        <svg viewBox="0 0 2221.7 2844" class="logo fill-current h-24 xl:h-36 text-gray-900 mx-auto">
          <g data-name="Layer 2">
            <path
              class="bg-gray-800"
              d="M1385 2264v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm-423-358a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm423 358v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm-423-358a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm0 0a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm423 358v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm-423-358a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm0 0a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm423 358v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm-423-358a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm1251-301c-63-27-108-95-108-175s45-147 108-175h8c4-87-5-365-10-395-33-211-191-339-374-418-142-62-301-78-439-150A738 738 0 011111 0a738 738 0 01-287 292c-138 72-297 88-439 150C201 521 44 649 11 860c-5 30-14 308-10 395h16c64 28 108 96 108 175s-45 148-108 175H0v605s4 67 63 128l26 24 887 450a298 298 0 00270 0l887-450 26-24c58-61 63-128 63-128v-605zm-959-684l335 7a34 34 0 0112-21c12-11 27-14 27-14l155 6v6l-122 5c-1 0-3 2-3 5v1c0 2 2 4 3 4l122 7v6l-124 6c-1 0-3 2-3 4v2c1 2 2 4 4 4l120 6v7l-120 5c-2 0-4 2-4 4s2 4 4 5l120 11-145 4c-17 2-28-4-34-12a49 49 0 01-10-19l-337 9c-17-4-22-15-24-22v-7c5-19 24-19 24-19zm273 740q2 12 9 17t42 7v35q-57-4-96-4-42 0-97 4v-35q36-2 42-7t9-17q4-18 4-110v-255l-1-116h-42a464 464 0 00-56 3q-10 1-12 3-2 3-3 15a603 603 0 00-4 67h-25l-1-99-3-40 2-4 30 3 97 1h119l99-1 28-3 3 4q-3 26-3 45l-2 94h-24q-1-34-4-64-2-15-4-18-1-2-9-3-24-3-58-3h-42l-1 116v255q0 92 3 110zm-43 324a28 28 0 00-26-17h-56a81 81 0 01-33-7 86 86 0 01-45-45 84 84 0 010-65 86 86 0 0145-45 81 81 0 0133-7h129v56h-129a28 28 0 00-29 28 29 29 0 003 12 27 27 0 006 9 28 28 0 0020 8h56a83 83 0 0133 6 84 84 0 0145 45 85 85 0 010 66 85 85 0 01-18 27 86 86 0 01-27 18 82 82 0 01-33 7h-125v-57h125a28 28 0 0026-39zm-460-250q-66 0-113-35t-75-102q-27-68-27-169 0-78 16-135t47-99l20 100 10 48a614 614 0 00-3 61q0 99 19 164t49 92a100 100 0 0043 23c-10-22-18-52-25-92 0 0 74 12 96 85a109 109 0 0022-15l3-3c-7-72 49-125 49-125l2 8q11-32 7-79l1-35q0-59-9-109t-26-84a179 179 0 00-21-35l-17-78a201 201 0 0143 15q32 17 57 48t38 64a357 357 0 0119 72q7 39 7 86 0 80-19 149-14 51-42 90t-62 61q-47 29-109 29zm1 206a142 142 0 01-5 39 149 149 0 01-14 34 145 145 0 01-23 30 148 148 0 01-30 23 145 145 0 01-112 15 147 147 0 01-102-102 146 146 0 010-78 144 144 0 0115-34 148 148 0 0123-30 144 144 0 0129-23 149 149 0 0135-14 146 146 0 0178 0 145 145 0 01101 101 144 144 0 015 39zm36-839l28 129c10 39 14 71 14 95a165 165 0 01-2 36c-10 49-41 53-41 53-11-20-18-38-21-55a144 144 0 01-2-34c2-59 41-95 41-95zm6-117v-72h72v72zm55 395c52 183-28 190-28 190-67-128 28-190 28-190zm-69 206s-72 43-102-147c0 0 106-5 102 147zM947 985l32 114s87 98 34 185c0 0-77-2-48-182zm50 347a130 130 0 0115 35c6 17 8 38 7 64 0 0-30 16-59-22-9-12-18-28-26-52-6-18-12-40-17-67l-22-117 31 110s44 7 71 49zm62 467h56v169a54 54 0 005 22 57 57 0 0030 30 57 57 0 0044 0 57 57 0 0030-30 54 54 0 004-22v-169h57v169a110 110 0 01-9 44 113 113 0 01-24 36 115 115 0 01-36 24 114 114 0 01-88 0 112 112 0 01-60-60 110 110 0 01-9-44zm153-1171c-12-23 3 2 13 18s15 28 15 54-7 57-52 97-45 48-52 59-8-23 3-53 46-55 61-83 24-70 12-92zm-50-51c-8-16 7 7 13 25s7 23 7 39-5 36-26 65c-10 15-20 30-35 48s-27 49-18 64-40-29-16-73 39-58 53-79 19-33 23-50 3-31-1-39zm-182 99c70-120 127-191 89-238s80 81 66 136-70 95-94 166 51 119 38 117-169-61-99-181zM446 932c3-8 10-16 17-22 9-7 20-12 32-16 20-6 40-6 61-7 67-3 78 41 78 41l345-6c20 2 21 20 21 20-2 15-21 18-21 18l-345-6c-19 42-81 38-81 38-29 2-62-1-85-20a67 67 0 01-19-23c-3-5-5-10-3-17zm-80 788v-38q33-1 39-4a9 9 0 005-5q2-3 3-12 2-16 3-50l2-124v-158l-1-89q-1-54-3-64a15 15 0 00-5-8q-7-5-43-8v-35l47 2 56 1q31 0 53-2l60-2q46 0 69 9t39 40q17 30 17 74 0 51-22 93t-68 67l16 39 11 24 4 9 45 99 20 42q22 43 27 50c4 6 7 9 10 11s9 3 18 3v36l-65-2q-24 0-47 2l-7-24-63-151q-27-64-46-101-9-19-18-28l3-14q35 1 53-11t31-43q12-31 12-70t-13-65-32-36q-13-7-44-7a117 117 0 00-28 4l-2 69-2 160 1 136 2 99q1 24 3 31a17 17 0 004 6q2 3 8 5t35 2v38q-51-3-102-3-46 0-85 3zm162 248v113h-56v-282h56v113h113v-113h56v282h-56v-113zm175 339c-15 2-29-1-42-9-9-5-16-14-19-24-6-25 25-48 48-47 28 2 75 22 135 29a12 12 0 010 24l-37 5c-28 6-57 18-85 22zm145 49c-15 0-29-25-33-61l12-1a26 26 0 000-51l-12-2c5-34 18-59 33-59 20 0 36 39 36 87s-16 87-36 87zm537 0H874c15-18 23-53 23-87s-8-69-23-87h511c19 1 35 40 35 87s-16 86-35 87zm194-82c-3 10-10 19-19 24-13 8-27 11-42 9-28-4-56-16-85-22h-1a220 220 0 000-35c43-8 77-21 99-23 23-1 54 22 48 47zm194-419h-137v57h92v56h-92v56h137v57h-194v-282h194zm124-693q-29 1-35 3t-8 5a15 15 0 00-3 7q-2 7-3 28l-1 41-1 113v171l1 78q0 44 3 57 1 6 4 9t8 6l35 2v38q-48-3-102-3-48 0-85 3v-38q31-1 36-3c4-1 7-2 8-4a15 15 0 003-7l2-40q3-51 3-95v-177l-1-109q-2-54-4-68a22 22 0 00-2-8l-7-5c-3-1-16-3-38-4v-37q37 2 85 2 54 0 102-2zm-512 1110a26 26 0 001-4 26 26 0 00-1-4zm-442-394a90 90 0 00-28-19 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35 90 90 0 00-19-28zm19 28a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm423 358v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm-423-358a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm0 0a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm423 358v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm-423-358a89 89 0 00-47-47 90 90 0 00-70 0 92 92 0 00-29 19 90 90 0 00-19 28 87 87 0 00-7 35 86 86 0 007 35 91 91 0 0048 47 90 90 0 0070 0 90 90 0 0028-19 92 92 0 0019-28 86 86 0 007-35 87 87 0 00-7-35zm423 358v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4zm0 0v8a26 26 0 001-4 26 26 0 00-1-4z"
              data-name="Layer 1"
            />
          </g>
        </svg>
        <h2 class="mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900">
          Sign in to your account
        </h2>
        <p class="mt-2 text-center text-sm leading-5 text-gray-800">
          and
          <a href="#" class="font-medium text-gray-900 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150">
            Grab you favorite meals quickerrrr...
          </a>
        </p>
      </div>
      <form class="mt-8 max-w-sm mx-auto" @submit.prevent>
        <input type="hidden" name="remember" value="true" />
        <div class="rounded-md shadow-sm">
          <div>
            <input
              aria-label="Email address"
              name="email"
              v-model="email"
              type="email"
              required
              class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5"
              placeholder="Email address"
            />
          </div>
          <div class="-mt-px">
            <input
              aria-label="Password"
              name="password"
              v-model="password"
              type="password"
              required
              class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5"
              placeholder="Password"
            />
          </div>
        </div>

        <div class="mt-6 flex items-center justify-between">
          <div class="flex items-center">
            <input id="remember_me" type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out" />
            <label for="remember_me" class="ml-2 block text-sm leading-5 text-gray-800">
              Remember me
            </label>
          </div>

          <div class="text-sm leading-5">
            <a href="#" class="font-medium text-gray-700 hover:text-gray-800 focus:outline-none focus:underline transition ease-in-out duration-150">
              Forgot your password?
            </a>
          </div>
        </div>

        <div class="mt-6">
          <button
            @click="handleLogin()"
            class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md text-yellow-400 bg-gray-800 hover:bg-gray-700 focus:outline-none focus:border-yellow-300 focus:shadow-outline-yellow active:bg-yellow-700 transition duration-150 ease-in-out"
          >
            <span class="absolute left-0 inset-y-0 flex items-center pl-3">
              <svg class="h-5 w-5 text-yellow-400 hover:text-yellow-700 transition ease-in-out duration-150" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
              </svg>
            </span>
            Sign in
          </button>
        </div>
      </form>
    </div>
  </div>
</template>

<script>
import gsap from "gsap";
export default {
  layout: "login",
  data() {
    return {
      email: "",
      password: "",
    };
  },
  mounted() {
    gsap.fromTo(".logo", { opacity: 0.5, scale: 0 }, { opacity: 1, scale: 1, duration: 3, ease: "elastic" });
  },
  methods: {
    async handleLogin() {
      await this.$auth
        .loginWith("local", { data: { identifier: this.email, password: this.password } })
        .then((resp) => {
          if (resp.ok) this.$router.push("/");
          throw new Error(error);
        })
        .catch((e) => {
          this.$toast.error(e.message);
        });
    },
  },
};
</script>
